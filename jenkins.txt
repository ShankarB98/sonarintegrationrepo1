pipeline{
    agent any
    parameters {
        String defaultValue : 'edge' , description:'select browser',name='browser',trim: false 
       // String defaultValue : 'local',description:'select platform',name='platform',trim: false
        
        tools{
            
            maven = 'MAVEN_HOME'
        }
        
        stages{
            stage('Checkout') {
            steps{
            echo "Checkout stage"
            echo"${params.browser}"
            git credentialsId: '8008faf8-9055-4db2-895b-80ff4ea9fcb2', url: 'https://github.com/ShankarB98/sonarintegrationrepo1.git'
            }
                
            }
            stage('Test')
            {
             echo "Test stage"
             bat "mvn test -Dbrowser = ${params.browser} -Dplatform = ${params.platform}"
            
            }
        }

      }  
    post {
      alwasys
      {
      echo "Artifact"
        archiveArtifacts artifacts: 'report/TS_01.html', followSymlinks: false
        
      
      
    }
}
}

